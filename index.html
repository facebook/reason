<!doctype html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>Reason</title>

  <!-- Flatdoc -->
  <script src='support/vendor/jquery.js'></script>
  <script src='legacy.js'></script>
  <script src="highlightJs/build/highlight.pack.js"></script>
  <link  href='highlightJs/src/styles/xcode.css' rel='stylesheet'>
  <script src='flatdoc.js'></script>


  <!-- Flatdoc theme -->
  <link  href='theme-white/style.css' rel='stylesheet'>
  <script src='theme-white/script.js'></script>
  <link  href='support/theme.css' rel='stylesheet'>
  <script src='support/theme.js'></script>


  <script id="markdown" type="text/markdown" src="index.html">

Reason
=======

- **Learn rapidly:** Familiar, functional syntax.
- **Edit rapidly:** Powerful, always-consistent source formatting.
- **Execute rapidly:** Ahead of Time, bare metal compilation - No Virtual Machine.
- **Adopt incrementally:** One file at a time, link with `clang` or `JavaScript`.
- **Build and Share easily:** `package.json` driven compilation/sharing.


Install
---------------
Install `OPAM` so that you can easily switch compiler versions (using
[Homebrew](http://brew.sh/)). Then switch to a supported compiler version
(`4.02.1` or `4.02.3` will work). Finally have `OPAM` install `Reason` from
Github by "pinning" it.

```sh
brew install opam --HEAD
opam init
# Add this to your ~/.bashrc (or ~/.zshrc):
#   eval `opam config env`

opam switch 4.02.3
opam pin add -y reasonsyntax git@github.com:facebook/ReasonSyntax.git#68d504daa9c8579e125e31c563c7388b7008ae86
opam pin add -y reason git@github.com:facebook/Reason.git#bdd6f3990570d20a7f70e7667223d4a68f4e4915
opam pin add -y merlin git@github.com:the-lambda-church/merlin.git#7f2f29ba85e07c9d0367456649e626d6ea6d037d
```

REPL
---------------

`Reason` comes with a custom build of the REPL called `rtop` which lets you
interactively evaluate `Reason` syntax in the REPL. It will show printed results
for each command. To submit commands, end each entry with a `;` and the REPL
will print the resulting value and inferred type.

```sh
# The rtop command begins a REPL session
rtop
```

```sh
let myVar = "Hello Reason!";
# myVar: bytes = "Hello Reason!"

let result = 100 + 200;
# result : int = 300;
```

> Note: `rtop` is a merely a thin wrapper around the excellent `utop` REPL but
> with a custom extension to handle `Reason` syntax. Correct value printing is
> still under development.


Reason Atom IDE.
-------

#### Install
`Reason` works best in Atom when the `Nuclide` plugin is installed. There is _one_ plugin called `atom-reason-loader` that must be installed using the instructions here.
`atom-reason-loader` has one job - to dynamically install any other necessary `Reason` plugins. Your
OPAM installation of `Reason` provides the _real_ IDE plugins, that `atom-reason-loader` will install.
Those other plugins include `NuclideReason` (IDE features), and `language-reason` (syntax highlighting).

> **Installation Instructions**
>
> - Install [Atom](https://atom.io/) editor.
> - Open the package installer from the menu `Packages > Settings View > Install Packages/Themes`.
> - Search for and install `nuclide` if not already installed.
> - Then install `atom-reason-loader`.
> - `atom-reason-loader` will automatically install/load two plugins (`NuclideReason` and
> `language-reason`) and will walk you through removing any existing conflicting versions.
> - When installation is complete, open a `.re` file and make sure the `Reason` syntax is selected
> (lower right corner of Atom). Restarting Atom after installation is not a bad idea but should not be necessary.

#### Features/Configuration
The `Reason` IDE experience is powered by `refmt`, the `Reason` AST formatting tool, and
even moreso by the excellent [merlin](https://github.com/the-lambda-church/merlin) project.
`refmt` provides source code beautifying/printing, and Merlin provides type information, autocompletion,
and professional IDE features even in the face of partially invalid files/projects.

To configure Merlin, include a `.merlin` file at the root of your project that notes the location
of source files and build artifacts. Also register the `Reason` suffixes with Merlin using the `SUFFIX` config.
See [this doc](https://github.com/the-lambda-church/merlin/wiki/project-configuration) for more
details, and note the example here.


> Example `.merlin` file
```
S relative/path/to/your/sourcefiles/dir/
B relative/path/to/your/build/artifacts/dir/
SUFFIX .re .rei
```

<img width=470 height=440 src="images/NuclideReason.png" />

> **Type Driven Development**
>
> - (Coming soon) With [`hyperclick`](https://atom.io/packages/hyperclick) installed/enabled -
`⌘+click` will allow navigating to definition location.
> - When you save your file, you will see compilation errors/warnings highlighted.
> Open the "Diagnostics" window to see a summary of errors.
> - With `Nuclide` type-hints enabled, hovering over your source code will display
> a pretty printed type annotation for the term.


<img width=470 height=440 src="images/autoformat.png" />

> **Powerful Reformatting**
>
> - `Reason` for Atom integrates `refmt`, the `Reason` AST formatter.
> - With Nuclide, `⌘+shift+c` will reformat the entire file or let you know
> if a syntax error prevented formatting.
> - As always, `refmt` will remove superfluous parenthesis, or precedence tokens.
> - `refmt` will wrap your lines at the width you have configured in your
> plugin settings. To change these, open the Package Settings (`Packages > Settings View > Manage Packages)
> and click on `NuclideReason` in order to customize the "print width" configuration.


<img width=470 height=440 src="images/autocomplete.png" />
> `Reason` for Atom uses Merlin's powerful autocompletion system.
  </script>

  <!-- Initializer -->
  <script>
    Flatdoc.run({
      fetcher: function(callback) {
        callback(null, document.getElementById('markdown').innerHTML);
      },
      highlight: function (code, value) {
        return (value === 'reason') ? hljs.highlight('reason', code).value : hljs.highlight(value, code).value;
      },
    });
  </script>

  <!-- Meta -->
  <meta property="og:image" content="./images/CubeRed598_614.png" />
  <meta property="og:image:secure_url" content="./images/CubeRed598_614.png" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1196" />
  <meta property="og:image:height" content="1228" />

  <meta content="Reason: Rapid Expressive Systems Programming." name="description">
  <meta content="Reason: Rapid Expressive Systems Programming." property="og:description">
  <!-- <meta content="http://ricostacruz.com/flatdoc/support/preview.jpg" property="og:image"> -->
</head>
<body role='flatdoc' class='big-h3 large-brief'>

  <!-- <div class='title&#45;area title&#45;card' style='background&#45;image: url(support/blur.jpg)'> -->

  <div class='title-area title-card'>
    <div class='in'>
      <div class='headline'>
        <h5><img style="width:80%; max-height:614px; max-width:598px;" src="images/CubeRed598_614.png"></img></h5>
      </div>
    </div>
  </div>

  <div class='header'>
    <div class='left'>
      <h1><a href='index.html'>Reason</a></h1>
      <ul>
        <li><a href='motivation.html'>Motivation</a></li>
        <li><a href='syntax.html'>Syntax</a></li>
        <li><a href='advanced.html'>Advanced Features</a></li>
        <li><a href='how.html'>How Reason Works</a></li>
        <li><a href='contributing.html'>Contributing</a></li>
        <li><a href='https://github.com/facebook/Reason'>View on GitHub</a></li>
      </ul>
    </div>
  </div>

  <div class='content-root'>
    <div class='menubar'>
      <div class='menu section' role='flatdoc-menu'></div>
    </div>
    <div role='flatdoc-content' class='content'></div>
  </div>

</body>
</html>
