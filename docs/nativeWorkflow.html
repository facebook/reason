<!doctype html>
<html>
<head>
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>Native Workflow</title>

  <!-- Flatdoc -->
  <script src='support/vendor/jquery.js'></script>
  <script src='legacy.js'></script>
  <script src="highlightJs/build/highlight.pack.js"></script>
  <link  href='highlightJs/src/styles/xcode.css' rel='stylesheet'>
  <script src='flatdoc.js'></script>

  <!-- Flatdoc theme -->
  <link  href='theme-white/style.css' rel='stylesheet'>
  <script src='theme-white/script.js'></script>
  <link  href='support/theme.css' rel='stylesheet'>
  <script src='support/theme.js'></script>



  <script id="markdown" type="text/markdown" src="">

Native Workflow
===========

Compiling to bytecode/native.

Context
-------

**Note**: doesn't work on Windows. The native workflow is currently work in progress.

Reason currently integrates well into existing toolchains such as `ocamlbuild`, and ships with a binary called `rebuild`
which is a thin wrapper around `ocamlbuild`, but that ensures the right flags will be passed to the compiler for
any files ending in `.re`.

For native compilation, we use [OPAM](https://opam.ocaml.org).

```sh
# On OSX, install opam via Homebrew:
brew update
brew install opam
# On Linux, see here (you'll need opam >= 1.2.2): http://opam.ocaml.org/doc/Install.html

opam init
# **Note**: add the line below to your ~/.bashrc or ~/.zshrc too; it's needed at every shell startup
eval $(opam config env)
opam update
opam switch 4.02.3
```

Project Setup
-------

See our [`ReasonNativeProject`](https://github.com/reasonml/ReasonNativeProject).

Global Installs (Editor Setup)
-------

Our [editor integration](http://facebook.github.io/reason/tools.html#editor-integration) need a few binaries to be found in your $PATH:

- `refmt`: the Reason parser/printer (editor formatter).
- `ocamlmerlin-reason`: Reason bridge to [Merlin](http://facebook.github.io/reason/tools.html#tools-command-line-merlin).
- `ocamlmerlin`: the Merlin binary.

Install them through:

```sh
opam install reason
opam install merlin
# get a list of your currently installed packages
opam list
```

Test the installation by compiling this program:

```sh
echo 'print_string "hello!"' > hello.re

# rebuild is another binary exposed by the Reason package
rebuild hello.native # Automatically generates hello.native from hello.re

./hello.native # Should display "hello!"
```

</script>
  <!-- Initializer -->
  <script>
    Flatdoc.run({
      fetcher: function(callback) {
        callback(null, document.getElementById('markdown').innerHTML);
      },
      highlight: function (code, value) {
        return (value === 'reason') ? hljs.highlight('reason', code).value : hljs.highlight(value, code).value;
      },
    });
  </script>

  <!-- Meta -->
  <meta property="og:image" content="./images/CubeRed598_614.png" />
  <meta property="og:image:secure_url" content="./images/CubeRed598_614.png" />
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image:width" content="1196" />
  <meta property="og:image:height" content="1228" />

  <meta content="Reason: Rapid Expressive Systems Programming." name="description">
  <meta content="Reason: Rapid Expressive Systems Programming." property="og:description">
  <!-- <meta content="http://ricostacruz.com/flatdoc/support/preview.jpg" property="og:image"> -->
</head>
<body role='flatdoc' class='big-h3 large-brief'>

  <!-- <div class='title&#45;area title&#45;card' style='background&#45;image: url(support/blur.jpg)'> -->

  <div class='header'>
    <div class='left'>
      <h1><a href='index.html'>Reason</a></h1>
      <ul>
        <li><a href='jsWorkflow.html'>JS Workflow</a></li>
        <li><a href='nativeWorkflow.html'>Native Workflow</a></li>
        <li><a href='tools.html'>Tools</a></li>
        <li><a href='https://github.com/facebook/reason'>GitHub</a></li>
      </ul>
    </div>
  </div>

  <div class='content-root'>
    <div class='menubar'>
      <div class='menu section' role='flatdoc-menu'></div>
    </div>
    <div role='flatdoc-content' class='content'></div>
  </div>

</body>
</html>
